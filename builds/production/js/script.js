"use strict";var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1;i.configurable=!0;"value" in i&&(i.writable=!0);Object.defineProperty(e,i.key,i)}}return function(t,r,i){r&&e(t.prototype,r);i&&e(t,i);return t}}();function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var reviews={slides:document.querySelectorAll('.reviews-slider__item'),width:document.querySelector('.reviews-slider__window').clientWidth,pointsContainer:document.querySelector('.reviews-slider__points'),btnNext:document.querySelector('.reviews-slider__next'),btnPrev:document.querySelector('.reviews-slider__prev'),breakpoint:400},filling={slides:document.querySelectorAll('.filling-slider__item'),images:document.querySelectorAll('.filling__img'),width:document.querySelector('.filling-slider__window').clientWidth,pointsContainer:document.querySelector('.filling-slider__points'),btnNext:document.querySelector('.filling-slider__next'),btnPrev:document.querySelector('.filling-slider__prev'),choiceBtn:document.querySelectorAll('.filling__btn'),valueContainer:'.filling__title',formField:document.getElementById('choice-filling'),breakpoint:700},size={slides:document.querySelectorAll('.size-slider__item'),images:document.querySelectorAll('.size__img'),width:document.querySelector('.size-slider__window').clientWidth,pointsContainer:document.querySelector('.size-slider__points'),choiceBtn:document.querySelectorAll('.size__btn'),valueContainer:'.size__img',formField:document.getElementById('choice-size'),breakpoint:550},decor={slides:document.querySelectorAll('.decor-slider__item'),images:document.querySelectorAll('.decor__img'),width:document.querySelector('.decor-slider__window').clientWidth,pointsContainer:document.querySelector('.decor-slider__points'),btnNext:document.querySelector('.decor-slider__next'),btnPrev:document.querySelector('.decor-slider__prev'),choiceBtn:document.querySelectorAll('.decor__btn'),valueContainer:'.decor__title',formField:document.getElementById('choice-decor'),breakpoint:646,pair:!0};function makeChoice(e,t,r){var i=e.valueContainer,o=e.formField;for(var l=0;l<t.length;l++)t[l].addEventListener('click',function(){var e=void 0;r?e=this:e=this.parentElement;var t=e.querySelector(i).innerHTML;o.value=t})}makeChoice(filling,filling.choiceBtn);document.documentElement.clientWidth>decor.breakpoint?makeChoice(decor,decor.slides,!0):makeChoice(decor,decor.choiceBtn);document.documentElement.clientWidth>size.breakpoint?makeChoice(size,size.images):makeChoice(size,size.choiceBtn);window.addEventListener('scroll',openModal);function openModal(){document.querySelector('.top-dialog').showModal();document.querySelector('.top-dialog').classList.add('dialog_visible');window.removeEventListener('scroll',openModal)}document.querySelector('.top-dialog__btn').onclick=function(){document.querySelector('.top-dialog').close()};document.querySelector('.choice__btn').onclick=function(e){e.preventDefault();document.querySelector('.order-dialog__filling').innerHTML=document.getElementById('choice-filling').value;document.querySelector('.order-dialog__size').innerHTML=document.getElementById('choice-size').value;document.querySelector('.order-dialog__decor').innerHTML=document.getElementById('choice-decor').value;document.querySelector('.order-dialog').showModal();document.querySelector('.order-dialog').classList.add('dialog_visible')};document.querySelector('.order-dialog__btn').onclick=function(){document.querySelector('.order-dialog').close();document.querySelector('.order-dialog').classList.remove('dialog_visible')};document.querySelector('.burger').onclick=function(){document.querySelector('.main-menu').classList.toggle('main-menu_visible');for(var e=1;e<=3;e++)document.querySelector('.burger__layer'+e).classList.toggle('burger__layer'+e+'_active')};var cards=document.querySelectorAll('.card');for(var i=0;i<cards.length;i++)cards[i].onmouseover=function(){this.querySelector('.card__link').querySelector('.card__arrow').style.backgroundImage='url(img/card-arrow-hover.png)'},cards[i].onmouseout=function(){this.querySelector('.card__link').querySelector('.card__arrow').style.backgroundImage='url(img/card-arrow.png)'};function positionPointsFilling(){var e=document.querySelector('.filling__img-container'),t=document.querySelector('.filling-slider__points'),r=e.offsetHeight,i=r+5+'px';t.style.top=i}function positionPointsSize(){var e=document.querySelector('.size__btn'),t=document.querySelector('.size-slider__points'),r=getComputedStyle(e),i=parseFloat(r.marginBottom)+parseFloat(r.marginTop),o=e.offsetHeight,l=o+i+25+'px';t.style.bottom=l}function positionPointsDecor(){var e=document.querySelector('.decor-slider__points'),t=document.querySelector('.decor__img').getBoundingClientRect(),r=t.bottom+pageYOffset,i=document.querySelector('.decor-slider').offsetTop,o=r-i,l=o+5+'px';e.style.top=l}positionPointsFilling();positionPointsSize();positionPointsDecor();window.addEventListener('resize',function(){positionPointsDecor();positionPointsSize();positionPointsFilling()});window.onscroll=function(){document.querySelector('.up-btn').style.display=pageYOffset>1e3?'block':'none'};var Slider=function(){function e(t){_classCallCheck(this,e);this.slidesCounter=0;this.pointsCounter=0;this.slides=t.slides;this.images=t.images;this.width=t.width;this.pointsContainer=t.pointsContainer;this.pointsClassName='slider-points__point';this.btnPrev=t.btnPrev;this.btnNext=t.btnNext;this.choiceBtn=t.choiceBtn;this.breakpoint=t.breakpoint;this.pair=t.pair}_createClass(e,[{key:'hideSlides',value:function(){var e=this;this.choiceBtn&&this.choiceBtn.forEach(function(t,r){r!==e.slidesCounter?t.setAttribute('tabindex',-1):t.setAttribute('tabindex',0)})}},{key:'moveSlides',value:function(){for(var e=0;e<this.slides.length;e++)this.slides[e].style.transform='translateX(-'+this.width*this.slidesCounter+'px)'}},{key:'scrollForward',value:function(){this.slidesCounter>=0&&this.slidesCounter<this.slides.length-1?this.slidesCounter++:(this.slidesCounter=0);this.moveSlides();this.hideSlides()}},{key:'scrollForwardPair',value:function(){this.slidesCounter>=0&&this.slidesCounter<Math.round((this.slides.length-1)/2)?this.slidesCounter++:(this.slidesCounter=0);this.moveSlides();this.hideSlides()}},{key:'scrollBack',value:function(){this.slidesCounter>0?this.slidesCounter--:(this.slidesCounter=0);this.moveSlides();this.hideSlides()}},{key:'createPoints',value:function(){for(var e=0;e<this.slides.length;e++){var t=document.createElement('span');t.classList.add(this.pointsClassName);this.pointsContainer.appendChild(t);this.points=this.pointsContainer.querySelectorAll('.'+this.pointsClassName);this.points[this.slidesCounter].style.background='#f50049'}}},{key:'scrollPoints',value:function(){for(var e=0;e<this.points.length;e++)this.points[e].style.background='#ddd';if(this.slidesCounter===0){this.pointsCounter=0;for(var t=0;t<this.points.length;t++)this.points[t].style.transform='translate(0)'}if(this.slidesCounter===this.slides.length-1)this.points[this.points.length-1].style.background='#f50049';else if(this.slidesCounter>3){this.pointsCounter++;for(var r=0;r<this.points.length;r++)this.points[r].style.transform='translate(-'+10*this.pointsCounter+'px)';this.points[this.slidesCounter].style.background='#f50049'}else this.points[this.slidesCounter].style.background='#f50049'}}]);return e}();function launchSlider(e){e.createPoints();e.hideSlides();e.btnNext&&e.btnPrev&&(e.pair?(e.btnNext.onclick=function(){e.scrollForwardPair()}):(e.btnNext.onclick=function(){e.scrollForward()}),e.btnPrev.onclick=function(){e.scrollBack()});if(e.images){for(var t=0;t<e.images.length;t++)e.images[t].addEventListener('click',function(){document.documentElement.clientWidth<e.breakpoint&&(e.scrollForward(),e.scrollPoints())})}else{for(var r=0;r<e.slides.length;r++)e.slides[r].addEventListener('click',function(){document.documentElement.clientWidth<e.breakpoint&&(e.scrollForward(),e.scrollPoints())})}}var reviewsSlider=new Slider(reviews);launchSlider(reviewsSlider);var fillingSlider=new Slider(filling);launchSlider(fillingSlider);var sizeSlider=new Slider(size);launchSlider(sizeSlider);var decorSlider=new Slider(decor);launchSlider(decorSlider)