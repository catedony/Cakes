"use strict";var _createClass=function(){function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var reviews={slides:document.querySelectorAll(".reviews-slider__item"),width:document.querySelector(".reviews-slider__window").clientWidth,pointsContainer:document.querySelector(".reviews-slider__points"),btnNext:document.querySelector(".reviews-slider__next"),btnPrev:document.querySelector(".reviews-slider__prev"),breakpoint:400},filling={slides:document.querySelectorAll(".filling-slider__item"),images:document.querySelectorAll(".filling__img"),width:document.querySelector(".filling-slider__window").clientWidth,pointsContainer:document.querySelector(".filling-slider__points"),btnNext:document.querySelector(".filling-slider__next"),btnPrev:document.querySelector(".filling-slider__prev"),choiceBtn:document.querySelectorAll(".filling__btn"),valueContainer:".filling__title",formField:document.getElementById("choice-filling"),breakpoint:700},size={slides:document.querySelectorAll(".size-slider__item"),images:document.querySelectorAll(".size__img"),width:document.querySelector(".size-slider__window").clientWidth,pointsContainer:document.querySelector(".size-slider__points"),choiceBtn:document.querySelectorAll(".size__btn"),valueContainer:".size__img",formField:document.getElementById("choice-size"),breakpoint:550},decor={slides:document.querySelectorAll(".decor-slider__item"),images:document.querySelectorAll(".decor__img"),width:document.querySelector(".decor-slider__window").clientWidth,pointsContainer:document.querySelector(".decor-slider__points"),btnNext:document.querySelector(".decor-slider__next"),btnPrev:document.querySelector(".decor-slider__prev"),choiceBtn:document.querySelectorAll(".decor__btn"),valueContainer:".decor__title",formField:document.getElementById("choice-decor"),breakpoint:646,pair:!0};function makeChoice(e,t,i){for(var o=e.valueContainer,n=e.formField,r=0;r<t.length;r++)t[r].addEventListener("click",function(){var e=(i?this:this.parentElement).querySelector(o).innerHTML;n.value=e})}function openModal(){document.querySelector(".top-dialog").showModal(),document.querySelector(".top-dialog").classList.add("dialog_visible"),window.removeEventListener("scroll",openModal)}makeChoice(filling,filling.choiceBtn),document.documentElement.clientWidth>decor.breakpoint?makeChoice(decor,decor.slides,!0):makeChoice(decor,decor.choiceBtn),document.documentElement.clientWidth>size.breakpoint?makeChoice(size,size.images):makeChoice(size,size.choiceBtn),window.addEventListener("scroll",openModal),document.querySelector(".top-dialog__btn").onclick=function(){document.querySelector(".top-dialog").close()},document.querySelector(".choice__btn").onclick=function(e){e.preventDefault(),document.querySelector(".order-dialog__filling").innerHTML=document.getElementById("choice-filling").value,document.querySelector(".order-dialog__size").innerHTML=document.getElementById("choice-size").value,document.querySelector(".order-dialog__decor").innerHTML=document.getElementById("choice-decor").value,document.querySelector(".order-dialog").showModal(),document.querySelector(".order-dialog").classList.add("dialog_visible")},document.querySelector(".order-dialog__btn").onclick=function(){document.querySelector(".order-dialog").close(),document.querySelector(".order-dialog").classList.remove("dialog_visible")},document.querySelector(".burger").onclick=function(){document.querySelector(".main-menu").classList.toggle("main-menu_visible");for(var e=1;e<=3;e++)document.querySelector(".burger__layer"+e).classList.toggle("burger__layer"+e+"_active")};for(var cards=document.querySelectorAll(".card"),i=0;i<cards.length;i++)cards[i].onmouseover=function(){this.querySelector(".card__link").querySelector(".card__arrow").style.backgroundImage="url(img/card-arrow-hover.png)"},cards[i].onmouseout=function(){this.querySelector(".card__link").querySelector(".card__arrow").style.backgroundImage="url(img/card-arrow.png)"};function positionPointsFilling(){var e=document.querySelector(".filling__img-container"),t=document.querySelector(".filling-slider__points"),i=e.offsetHeight+5+"px";t.style.top=i}function positionPointsSize(){var e=document.querySelector(".size__btn"),t=document.querySelector(".size-slider__points"),i=getComputedStyle(e),o=parseFloat(i.marginBottom)+parseFloat(i.marginTop),n=e.offsetHeight+o+25+"px";t.style.bottom=n}function positionPointsDecor(){var e=document.querySelector(".decor-slider__points"),t=document.querySelector(".decor__img").getBoundingClientRect().bottom+pageYOffset-document.querySelector(".decor-slider").offsetTop+5+"px";e.style.top=t}positionPointsFilling(),positionPointsSize(),positionPointsDecor(),window.addEventListener("resize",function(){positionPointsDecor(),positionPointsSize(),positionPointsFilling()}),window.onscroll=function(){document.querySelector(".up-btn").style.display=1e3<pageYOffset?"block":"none"};var Slider=function(){function t(e){_classCallCheck(this,t),this.slidesCounter=0,this.pointsCounter=0,this.slides=e.slides,this.images=e.images,this.width=e.width,this.pointsContainer=e.pointsContainer,this.pointsClassName="slider-points__point",this.btnPrev=e.btnPrev,this.btnNext=e.btnNext,this.choiceBtn=e.choiceBtn,this.breakpoint=e.breakpoint,this.pair=e.pair}return _createClass(t,[{key:"hideSlides",value:function(){var i=this;this.choiceBtn&&this.choiceBtn.forEach(function(e,t){t!==i.slidesCounter?e.setAttribute("tabindex",-1):e.setAttribute("tabindex",0)})}},{key:"moveSlides",value:function(){for(var e=0;e<this.slides.length;e++)this.slides[e].style.transform="translateX(-"+this.width*this.slidesCounter+"px)"}},{key:"scrollForward",value:function(){0<=this.slidesCounter&&this.slidesCounter<this.slides.length-1?this.slidesCounter++:this.slidesCounter=0,this.moveSlides(),this.hideSlides()}},{key:"scrollForwardPair",value:function(){0<=this.slidesCounter&&this.slidesCounter<Math.round((this.slides.length-1)/2)?this.slidesCounter++:this.slidesCounter=0,this.moveSlides(),this.hideSlides()}},{key:"scrollBack",value:function(){0<this.slidesCounter?this.slidesCounter--:this.slidesCounter=0,this.moveSlides(),this.hideSlides()}},{key:"createPoints",value:function(){for(var e=0;e<this.slides.length;e++){var t=document.createElement("span");t.classList.add(this.pointsClassName),this.pointsContainer.appendChild(t),this.points=this.pointsContainer.querySelectorAll("."+this.pointsClassName),this.points[this.slidesCounter].style.background="#f50049"}}},{key:"scrollPoints",value:function(){for(var e=0;e<this.points.length;e++)this.points[e].style.background="#ddd";if(0===this.slidesCounter)for(var t=this.pointsCounter=0;t<this.points.length;t++)this.points[t].style.transform="translate(0)";if(this.slidesCounter===this.slides.length-1)this.points[this.points.length-1].style.background="#f50049";else if(3<this.slidesCounter){this.pointsCounter++;for(var i=0;i<this.points.length;i++)this.points[i].style.transform="translate(-"+10*this.pointsCounter+"px)";this.points[this.slidesCounter].style.background="#f50049"}else this.points[this.slidesCounter].style.background="#f50049"}}]),t}();function launchSlider(e){if(e.createPoints(),e.hideSlides(),e.btnNext&&e.btnPrev&&(e.pair?e.btnNext.onclick=function(){e.scrollForwardPair()}:e.btnNext.onclick=function(){e.scrollForward()},e.btnPrev.onclick=function(){e.scrollBack()}),e.images)for(var t=0;t<e.images.length;t++)e.images[t].addEventListener("click",function(){document.documentElement.clientWidth<e.breakpoint&&(e.scrollForward(),e.scrollPoints())});else for(var i=0;i<e.slides.length;i++)e.slides[i].addEventListener("click",function(){document.documentElement.clientWidth<e.breakpoint&&(e.scrollForward(),e.scrollPoints())})}var reviewsSlider=new Slider(reviews);launchSlider(reviewsSlider);var fillingSlider=new Slider(filling);launchSlider(fillingSlider);var sizeSlider=new Slider(size);launchSlider(sizeSlider);var decorSlider=new Slider(decor);launchSlider(decorSlider);